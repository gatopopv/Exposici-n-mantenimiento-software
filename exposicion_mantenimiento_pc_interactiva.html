<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Exposición Interactiva: Mantenimiento Preventivo de PC</title>
  <meta name="description" content="Exposición interactiva y lista para GitHub Pages sobre limpieza, optimización y seguridad de PC." />

  <!-- Three.js CDN for 3D background -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r150/three.min.js"></script>

  <style>
    :root{
      --glass: rgba(255,255,255,0.06);
      --glass-2: rgba(255,255,255,0.08);
      --accent: #7ef9ff;
      --accent-2: #8a7bff;
      --muted: rgba(255,255,255,0.75);
      --bg: #071026;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#041022 0%, #081832 60%);color:#eaf6ff;overflow:hidden}
    /* container */
    .wrap{position:relative;z-index:5;max-width:1200px;margin:40px auto;padding:28px;border-radius:16px;backdrop-filter:blur(8px) saturate(120%);background:linear-gradient(135deg,var(--glass), rgba(255,255,255,0.02));box-shadow:0 10px 40px rgba(2,6,23,0.7);border:1px solid rgba(255,255,255,0.04);} 
    header{display:flex;gap:18px;align-items:center}
    .logo{width:72px;height:72px;border-radius:14px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#012;box-shadow:0 6px 30px rgba(138,123,255,0.18);font-weight:700}
    h1{margin:0;font-size:28px}
    p.lead{margin:4px 0 18px;color:var(--muted)}

    nav{display:flex;gap:8px;flex-wrap:wrap;margin-top:18px}
    nav button{background:transparent;border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;color:var(--muted);cursor:pointer}
    nav button.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#021;box-shadow:0 6px 18px rgba(0,0,0,0.4)}

    main{display:grid;grid-template-columns:1fr 380px;gap:20px;margin-top:18px}
    section.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.03)}
    .topic{display:flex;align-items:flex-start;gap:12px}
    .topic h2{margin:0 0 8px;font-size:20px}
    .topic p{margin:0;color:var(--muted);line-height:1.45}

    .code{background:rgba(2,6,23,0.6);padding:12px;border-radius:8px;margin-top:12px;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono',monospace;color:#bfefff;white-space:pre-wrap}

    .actions{display:flex;gap:8px;margin-top:12px}
    .btn{padding:8px 12px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
    .btn-primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#012}
    .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* sidebar */
    aside{height:calc(100% - 40px);overflow:auto;padding:12px}
    .card.small{padding:12px}

    /* checklist */
    .checklist{display:flex;flex-direction:column;gap:8px}
    .check{display:flex;gap:8px;align-items:center}
    .check input[type=checkbox]{width:18px;height:18px}

    /* footer */
    footer{margin-top:18px;color:var(--muted);font-size:13px}

    /* responsive */
    @media (max-width:980px){main{grid-template-columns:1fr}aside{order:2}}

    /* small helper */
    .pill{display:inline-block;padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.03);font-size:13px}

    /* slide nav */
    .slides{margin-top:12px}
    .slide{display:none}
    .slide.active{display:block}

    /* fancy headings */
    .section-title{display:flex;align-items:center;gap:12px}
    .section-title svg{width:44px;height:44px}

    /* download link style hidden anchor */
    a.download-link{display:inline-block}

    /* subtle hover */
    button, a {transition:all .18s ease}
    button:hover, a:hover{transform:translateY(-2px)}

    /* small badge */
    .badge{font-size:12px;padding:6px 8px;border-radius:8px;background:rgba(255,255,255,0.03)}

  </style>
</head>
<body>
  <!-- 3D canvas -->
  <canvas id="bg-canvas" style="position:fixed;inset:0;z-index:1"></canvas>

  <div class="wrap" id="app">
    <header>
      <div class="logo">PC</div>
      <div>
        <h1>Exposición Interactiva — Mantenimiento Preventivo de PC</h1>
        <p class="lead">Repositorio listo para GitHub Pages. Contenido práctico: scripts, demostraciones y actividades colaborativas.</p>
        <nav id="nav">
          <button data-target="intro" class="active">Inicio</button>
          <button data-target="temp">Limpieza</button>
          <button data-target="defrag">Desfragmentación</button>
          <button data-target="updates">Actualizaciones</button>
          <button data-target="drivers">Controladores</button>
          <button data-target="security">Antivirus</button>
        </nav>
      </div>
    </header>

    <main>
      <div>
        <!-- Intro / Slides area -->
        <section class="card" id="intro">
          <div class="section-title">
            <svg viewBox="0 0 24 24" fill="none"><path d="M3 12l2-2 4 4 8-8 4 4" stroke="url(#g)" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>
            <div>
              <h2>Bienvenida</h2>
              <p>En esta exposición encontrarás teoría resumida, prácticas descargables y actividades para realizar en clase o en remoto. Navega por las secciones o usa los botones del teclado (← →) para avanzar.</p>
            </div>
          </div>

          <div class="slides">
            <div class="slide active" id="slide-1">
              <h3>¿Cómo usar este recurso?</h3>
              <ul>
                <li>Descarga los scripts desde la barra lateral.</li>
                <li>Prueba los comandos en una máquina virtual o en tu propio equipo con precaución.</li>
                <li>Usa el checklist para registrar tareas hechas durante la exposición.</li>
              </ul>
            </div>
            <div class="slide" id="slide-2">
              <h3>Material incluido</h3>
              <ul>
                <li>Scripts .bat y .sh para limpieza básica.</li>
                <li>Guía paso a paso para optimizar SSD/HDD.</li>
                <li>Comparativa de antivirus y plantilla para pruebas.</li>
              </ul>
            </div>
          </div>

          <div style="margin-top:12px;display:flex;gap:8px;">
            <button class="btn btn-primary" id="next-slide">Siguiente (→)</button>
            <button class="btn btn-ghost" id="prev-slide">Anterior (←)</button>
            <button class="btn btn-ghost" id="deploy-gh">Guía: Publicar en GitHub Pages</button>
          </div>
        </section>

        <!-- Topic: Limpieza -->
        <section class="card slide" id="temp">
          <div class="topic">
            <div>
              <h2>Limpieza de archivos temporales y caché</h2>
              <p>Explicación breve: limpiar temporales libera espacio y evita conflictos por archivos corruptos.</p>

              <div class="code" id="code-clean">
<code># Windows (archivo .bat)
@echo off
echo Limpiando archivos temporales...
del /q/f/s %TEMP%\*
del /q/f/s C:\Windows\Temp\*
echo Limpieza de caché de DNS...
ipconfig /flushdns
echo Hecho.
PAUSE

# Linux (script .sh)
# sudo required
sudo apt update && sudo apt autoremove -y
sudo apt clean
rm -rf ~/.cache/*
echo "Limpieza completa"
</code>
              </div>

              <div class="actions">
                <button class="btn btn-primary" onclick="downloadScript('windows')">Descargar .bat</button>
                <button class="btn btn-primary" onclick="downloadScript('linux')">Descargar .sh</button>
                <button class="btn btn-ghost" onclick="copyCode('code-clean')">Copiar código</button>
              </div>

            </div>
          </div>
        </section>

        <!-- Topic: Desfragmentación -->
        <section class="card slide" id="defrag">
          <div class="topic">
            <div>
              <h2>Desfragmentación y optimización</h2>
              <p>HDDs pueden beneficiarse de desfragmentación; los SSDs utilizan TRIM para mantener el rendimiento.</p>

              <div class="code">
<code># Windows: abrir herramienta
# Instrucción para el alumno:
# Busque "Desfragmentar y optimizar unidades" en Inicio y ejecute.

# Linux (TRIM manuel):
sudo fstrim -v /
# También se puede habilitar via systemd: /etc/fstab con discard o usar timer fstrim.service
</code>
              </div>

              <div class="actions">
                <button class="btn btn-primary" onclick="showDemo('defrag')">Ver demo (GIF/Video)</button>
                <button class="btn btn-ghost" onclick="copyText('sudo fstrim -v /')">Copiar TRIM</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Topic: Updates -->
        <section class="card slide" id="updates">
          <div class="topic">
            <div>
              <h2>Actualizaciones del sistema operativo</h2>
              <p>Las actualizaciones corrigen fallos y vulnerabilidades; configura actualizaciones automáticas cuando sea apropiado.</p>

              <div class="code">
<code># Windows: abrir Windows Update desde Configuración > Actualización y seguridad

# Linux (Debian/Ubuntu):
sudo apt update && sudo apt upgrade -y
# Para entornos con unattended-upgrades, instalar y configurar.
</code>
              </div>

              <div class="actions">
                <button class="btn btn-primary" onclick="openChecklist()">Abrir checklist</button>
                <button class="btn btn-ghost" onclick="copyText('sudo apt update && sudo apt upgrade -y')">Copiar comando</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Topic: Drivers -->
        <section class="card slide" id="drivers">
          <div class="topic">
            <div>
              <h2>Instalación y actualización de controladores</h2>
              <p>Procura usar controladores oficiales; crea puntos de restauración antes de cambios críticos.</p>

              <div class="code">
<code># Windows: Administrador de dispositivos → Buscar cambios de hardware → Actualizar controlador

# Ubuntu: detectar drivers privativos
sudo ubuntu-drivers devices
sudo ubuntu-drivers autoinstall
</code>
              </div>

              <div class="actions">
                <button class="btn btn-primary" onclick="openLink('https://support.microsoft.com')">Enlaces oficiales</button>
                <button class="btn btn-ghost" onclick="createRestorePoint()">Guía: Crear punto de restauración</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Topic: Antivirus -->
        <section class="card slide" id="security">
          <div class="topic">
            <div>
              <h2>Herramientas antivirus y antimalware</h2>
              <p>Elegir herramientas que equilibren protección y performance; práctica recomendada: análisis programados y escaneos bajo demanda.</p>

              <div class="code">
<code># Sugerencias rápidas:
# Windows Defender (integrado en Windows 10/11)
# Malwarebytes (escaneo bajo demanda)
# ClamAV (Linux) - escaneo básico:
sudo apt install clamav -y
sudo freshclam
clamscan -r --bell -i /home
</code>
              </div>

              <div class="actions">
                <button class="btn btn-primary" onclick="openWiki()">Abrir comparativa (Wiki)</button>
                <button class="btn btn-ghost" onclick="copyText('clamscan -r --bell -i /home')">Copiar comando</button>
              </div>
            </div>
          </div>
        </section>

        <footer>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div>Hecho para clase y GitHub Pages · <span class="pill">Interactivo</span></div>
            <div class="badge">Presente: recursos, scripts y checklist</div>
          </div>
        </footer>
      </div>

      <aside>
        <section class="card small">
          <h3>Recursos rápidos</h3>
          <p class="lead" style="color:var(--muted)">Descarga los scripts y marca tareas en tu checklist.</p>

          <div style="margin-top:8px;display:flex;gap:8px;flex-direction:column">
            <button class="btn btn-primary" onclick="downloadScript('windows')">.bat — Limpieza</button>
            <button class="btn btn-primary" onclick="downloadScript('linux')">.sh — Limpieza</button>
            <a class="download-link" id="download-drivers" href="#" onclick="downloadFile('drivers-guide.txt','Guía de drivers - descarga desde páginas oficiales de fabricantes.')">Guía drivers (.txt)</a>
          </div>
        </section>

        <section class="card small" style="margin-top:12px">
          <h4>Checklist — Tareas</h4>
          <div class="checklist" id="checklist">
            <label class="check"><input type="checkbox" data-id="c1"> Limpiar archivos temporales</label>
            <label class="check"><input type="checkbox" data-id="c2"> Ejecutar TRIM / optimizar unidad</label>
            <label class="check"><input type="checkbox" data-id="c3"> Actualizar SO</label>
            <label class="check"><input type="checkbox" data-id="c4"> Actualizar controladores</label>
            <label class="check"><input type="checkbox" data-id="c5"> Análisis antivirus</label>
          </div>
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn btn-ghost" onclick="saveChecklist()">Guardar</button>
            <button class="btn btn-ghost" onclick="clearChecklist()">Limpiar</button>
          </div>
        </section>

        <section class="card small" style="margin-top:12px">
          <h4>Actividad colaborativa</h4>
          <p style="color:var(--muted)">Usa Issues en GitHub para que los asistentes reporten resultados o dudas. Ejemplo de plantilla incluida en el repositorio.</p>
          <div style="margin-top:8px">
            <button class="btn btn-primary" onclick="openLink('https://github.com/new')">Crear repo (ejemplo)</button>
          </div>
        </section>

      </aside>
    </main>

  </div>

  <script>
    // --- Simple 3D background using three.js ---
    const canvas = document.getElementById('bg-canvas');
    const renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
    renderer.setPixelRatio(window.devicePixelRatio);
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000);
    camera.position.z = 80;

    const group = new THREE.Group();
    scene.add(group);

    const geometry = new THREE.SphereGeometry(0.8, 6, 6);
    for(let i=0;i<180;i++){
      const material = new THREE.MeshBasicMaterial({color: 0x7ef9ff, transparent:true, opacity:0.06});
      const mesh = new THREE.Mesh(geometry, material);
      mesh.position.x = (Math.random()-0.5)*160;
      mesh.position.y = (Math.random()-0.5)*90;
      mesh.position.z = (Math.random()-0.5)*120;
      mesh.rotation.x = Math.random()*Math.PI;
      mesh.rotation.y = Math.random()*Math.PI;
      mesh.scale.setScalar(1+Math.random()*3);
      group.add(mesh);
    }

    const light = new THREE.PointLight(0x8a7bff, 0.8);
    light.position.set(50,50,50);
    scene.add(light);

    function onResize(){
      renderer.setSize(window.innerWidth, window.innerHeight);
      camera.aspect = window.innerWidth/window.innerHeight;
      camera.updateProjectionMatrix();
    }
    window.addEventListener('resize', onResize);
    onResize();

    let t=0;
    function animate(){
      t+=0.003;
      group.rotation.y = Math.sin(t)*0.2;
      group.rotation.x = Math.cos(t*0.7)*0.06;
      renderer.render(scene, camera);
      requestAnimationFrame(animate);
    }
    animate();

    // --- Navigation and slide handling ---
    const navButtons = document.querySelectorAll('nav button');
    const slides = document.querySelectorAll('.slide');
    function showSection(id){
      // hide all slides
      slides.forEach(s=>s.classList.remove('active'));
      const el = document.getElementById(id);
      if(el) el.classList.add('active');
      navButtons.forEach(b=>b.classList.toggle('active', b.dataset.target===id));
      window.location.hash = id;
    }
    navButtons.forEach(b=>b.addEventListener('click', ()=>showSection(b.dataset.target)));
    // read hash
    if(location.hash){showSection(location.hash.replace('#',''))} else {showSection('intro')}

    // slide next/prev
    const slideEls = Array.from(document.querySelectorAll('.slides .slide'));
    let currentSlide = 0;
    function renderSlide(){
      slideEls.forEach((s,i)=>s.classList.toggle('active', i===currentSlide));
    }
    document.getElementById('next-slide').addEventListener('click', ()=>{ currentSlide = Math.min(slideEls.length-1, currentSlide+1); renderSlide(); });
    document.getElementById('prev-slide').addEventListener('click', ()=>{ currentSlide = Math.max(0, currentSlide-1); renderSlide(); });

    document.addEventListener('keydown', (e)=>{
      if(e.key==='ArrowRight') document.getElementById('next-slide').click();
      if(e.key==='ArrowLeft') document.getElementById('prev-slide').click();
    });

    // --- Scripts download and copy ---
    const scripts = {
      windows: `@echo off\necho Limpiando archivos temporales...\ndel /q/f/s %TEMP%\\*\ndel /q/f/s C:\\Windows\\Temp\\*\necho Limpieza de caché de DNS...\nipconfig /flushdns\necho Hecho.\nPAUSE`,
      linux: `#!/bin/bash\nset -e\n\necho "Actualizando repositorios y limpiando paquetes..."\nsudo apt update && sudo apt autoremove -y\nsudo apt clean\nrm -rf ~/.cache/*\necho \"Limpieza completa\"`
    };

    function downloadScript(which){
      const blob = new Blob([scripts[which]], {type:'text/plain'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = which==='windows' ? 'limpieza_temporales.bat' : 'limpieza_temporales.sh';
      a.click();
      URL.revokeObjectURL(a.href);
    }

    function downloadFile(name, content){
      const blob = new Blob([content], {type:'text/plain'});
      const a = document.createElement('a');a.href = URL.createObjectURL(blob);a.download = name;a.click();URL.revokeObjectURL(a.href);
    }

    function copyCode(id){
      const txt = document.getElementById(id).innerText;
      navigator.clipboard.writeText(txt).then(()=>alert('Código copiado al portapapeles'));
    }
    function copyText(txt){navigator.clipboard.writeText(txt).then(()=>alert('Texto copiado'))}

    // --- Checklist persistence ---
    const checklist = document.getElementById('checklist');
    function saveChecklist(){
      const data = {};
      checklist.querySelectorAll('input[type=checkbox]').forEach(cb=>data[cb.dataset.id]=cb.checked);
      localStorage.setItem('pc_checklist', JSON.stringify(data));
      alert('Checklist guardado localmente');
    }
    function loadChecklist(){
      const raw = localStorage.getItem('pc_checklist');
      if(!raw) return;
      const data = JSON.parse(raw);
      checklist.querySelectorAll('input[type=checkbox]').forEach(cb=>cb.checked = !!data[cb.dataset.id]);
    }
    function clearChecklist(){
      checklist.querySelectorAll('input[type=checkbox]').forEach(cb=>cb.checked=false);
      localStorage.removeItem('pc_checklist');
    }
    loadChecklist();

    // helpers
    function openLink(u){window.open(u,'_blank')}
    function openChecklist(){ alert('Usa la barra lateral para marcar tareas. También puedes guardar localmente.') }
    function openWiki(){ alert('En el repositorio puedes crear una Wiki con la comparativa de antivirus.') }
    function showDemo(topic){ alert('En el repositorio de ejemplo añade un video o GIF corto en la carpeta /media y enlázalo aquí.') }
    function createRestorePoint(){ alert('Guía rápida: para Windows, busca "Crear un punto de restauración" en Inicio y sigue el asistente.') }

    // small UX tweaks: make nav highlight when scrolling between sections
    // (not necessary but keeps UI alive)
  </script>

</body>
</html>
